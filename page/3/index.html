<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cairohy.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":{"disqus":{"text":"Load Disqus","order":-1},"gitalk":{"order":-2}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":2,"unescape":true,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="new Cairo()">
<meta property="og:url" content="http://cairohy.github.io/page/3/index.html">
<meta property="og:site_name" content="new Cairo()">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="cairo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://cairohy.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>new Cairo()</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">new Cairo()</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Happy reading and coding.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">116</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">129</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2018/02/28/vi/VI-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/02/28/vi/VI-1/" class="post-title-link" itemprop="url">变分推断（一）：介绍变分推断</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-02-28 14:30:00" itemprop="dateCreated datePublished" datetime="2018-02-28T14:30:00+00:00">2018-02-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">机器学习</span></a>
                </span>
            </span>

          
            <span id="/2018/02/28/vi/VI-1/" class="post-meta-item leancloud_visitors" data-flag-title="变分推断（一）：介绍变分推断" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="变分推断（一）：介绍变分推断"><a href="#变分推断（一）：介绍变分推断" class="headerlink" title="变分推断（一）：介绍变分推断"></a>变分推断（一）：介绍变分推断</h2><h3 id="一、近似推断问题"><a href="#一、近似推断问题" class="headerlink" title="一、近似推断问题"></a>一、近似推断问题</h3><p>马尔科夫蒙特卡洛（MCMC）采样是近似推断（Approximate Inference）的一种重要方法，其改进包括Metropolis-Hastings算法，Gibbs采样。</p>
<p>在MCMC不满足性能要求的时候，我们使用变分推断（Variational Inference，VI）。变分推断通过优化逼近后验，而MCMC通过采样逼近后验。</p>
<p>对观测数据<script type="math/tex">x = (x_1,\ldots,x_n)</script>和隐变量<script type="math/tex">z = (z_1,\ldots,z_m)</script>，推断问题（inference）希望计算出隐变量的后验概率<script type="math/tex">p(z|x)</script>，利用贝叶斯公式重写后验概率如下公式。在确定隐变量z的先验概率<script type="math/tex">p(z)</script>时，公式中的联合概率<script type="math/tex">p(z,x)</script>能够计算，而<script type="math/tex">p(x)</script>需要积分<script type="math/tex">p(x) = \int p(z,x) dz</script>计算，但是通常，这个积分没有解析解，利用采样的方法计算效率也非常低。</p>
<script type="math/tex; mode=display">
p(z|x) =\frac{p(z,x)}{p(x)}</script><h3 id="二、变分分布和ELBO"><a href="#二、变分分布和ELBO" class="headerlink" title="二、变分分布和ELBO"></a>二、变分分布和ELBO</h3><p>变分推断选择一类分布族Q（称为变分分布族），将推断问题转换为优化<script type="math/tex">q^*\in Q</script>使得与后验<script type="math/tex">p(z|x)</script>的差别最小。</p>
<script type="math/tex; mode=display">
q^*(z) = argmin_{q(z)\in Q } KL[q(z)||p(z|x)]</script><p>变分推断使用<script type="math/tex">KL[q||p]</script>衡量变分分布（即分布q）和真实后验p之间的差别，KL散度是非对称的，这种形式的KL着重于惩罚真实后验p很小时变分概率q很大的情况。</p>
<p>我们无法最小化目标函数KL[q||p]，因为KL中包含有<script type="math/tex">\log p(x)</script>，如下推导：</p>
<script type="math/tex; mode=display">
\begin{aligned}
KL[q(z)||p(z|x)] &= E_{q(z)}[\log q(z)] - E_{q(z)}[\log p(z|x)]\\
&=E_{q(z)}[\log q(z)] - E_{q(z)}[\log p(z,x)]+E_{q(z)}[\log p(x)]\\
&=E_{q(z)}[\log q(z)] - E_{q(z)}[\log p(z,x)]+\log p(x)
\end{aligned}</script><p>但是，通过上面公式的变化可以得到一个新的目标函数ELBO：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/02/28/vi/VI-1/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/12/20/deeplearning/%E3%80%8AMeMEN-Multi-layer%20Embedding%20with%20Memory%20Networks%20for%20Machine%20Comprehension%E3%80%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/20/deeplearning/%E3%80%8AMeMEN-Multi-layer%20Embedding%20with%20Memory%20Networks%20for%20Machine%20Comprehension%E3%80%8B/" class="post-title-link" itemprop="url">《MEMEN： Multi-layer Embedding with Memory Networks for Machine Comprehension》</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-12-20 17:00:00" itemprop="dateCreated datePublished" datetime="2017-12-20T17:00:00+00:00">2017-12-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">自然语言处理</span></a>
                </span>
            </span>

          
            <span id="/2017/12/20/deeplearning/%E3%80%8AMeMEN-Multi-layer%20Embedding%20with%20Memory%20Networks%20for%20Machine%20Comprehension%E3%80%8B/" class="post-meta-item leancloud_visitors" data-flag-title="《MEMEN： Multi-layer Embedding with Memory Networks for Machine Comprehension》" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-论文的概述及背景"><a href="#1-论文的概述及背景" class="headerlink" title="1.论文的概述及背景"></a>1.论文的概述及背景</h4><p>浙江大学的学生在艾耕科技实习时产出的一篇论文。</p>
<p>现有的MRC的模型，存在两点不足：</p>
<ul>
<li>对编码（encoding）层缺少句法信息和命名实体信息的嵌入，影响了编码质量。比如，苹果可以代表水果也可以代表苹果公司，取决于具体语境，但词向量是相同的，这就需要对句法、语义和命名实体的分析和标注来提高编码质量。</li>
<li>很多模型使用了注意力机制，通常是使用一个向量来表示查询语句的每个单词或是整个查询语句，这无法体现查询语句中关键字的权重，因为用一个向量来表示整个查询语句会损失信息，而表示每个单词那么在注意力计算过程中会增加噪音。</li>
</ul>
<p>本文针对这两点进行了改进。</p>
<h4 id="2-模型概述"><a href="#2-模型概述" class="headerlink" title="2.模型概述"></a>2.模型概述</h4><p><img src="/images/FlY4LAAp4lP56WWu4apTCwtUA-aC.jpg" alt></p>
<p>模型的整体结构如上图所示，其中包括三个部分：</p>
<ul>
<li><p>编码层：<strong>利用skip-Gram模型训练出P和Q的NER和POS向量</strong>，同one-hot向量相比这种做法更能体现tag的语法和语义影响。把【词向量，字符向量，tag embedding】输入到双向LSTM中得到编码后的向量表示。</p>
</li>
<li><p>交互层：利用注意力机制进行交互。</p>
<ul>
<li>Integral Query Matching：利用Q的向量表示u作为attend vector，P的向量矩阵<script type="math/tex">r^P</script>作为memory vector，计算注意力权重并对<script type="math/tex">r^P</script>进行加权求和得到加权向量表示<script type="math/tex">m^1</script>。</li>
<li>Query-Based Similarity Matching：首先计算出对齐矩阵（alignment matrix）A，而后通过在每行进行softmax的方式，计算出<script type="math/tex">r_Q</script>的加权向量表示<script type="math/tex">m^2</script>。</li>
<li>Context-Based Similarity Matching：通过对对齐矩阵A的每列，也就是每个Q进行max函数选择，选择Q中最相关的单词，与<script type="math/tex">r^P</script>进行内积相乘得到向量表示<script type="math/tex">m^3</script>。</li>
<li>通过一个线性映射f，计算出输出<script type="math/tex">M=f(m^1,m^2,m^3)</script>，而后通过一个gate来过滤M，并将过滤后的M作为RNN的输入，即可得到输出O：</li>
</ul>
<script type="math/tex; mode=display">
g_t = sigmoid(W_gM + b) \\
O_t = BiLSTM(O_{t-1}, g_t\odot M)</script></li>
<li><p>输出层：利用Pointer Network作为输出层，以boundary的形式预测答案。</p>
<ul>
<li>初始状态是query-aware representation。</li>
<li>利用GRU和O计算出答案的span。</li>
</ul>
</li>
</ul>
<h4 id="3-实验和结论"><a href="#3-实验和结论" class="headerlink" title="3.实验和结论"></a>3.实验和结论</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/12/20/deeplearning/%E3%80%8AMeMEN-Multi-layer%20Embedding%20with%20Memory%20Networks%20for%20Machine%20Comprehension%E3%80%8B/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/11/21/deeplearning/five%20papers%20about%20memory%20and%20machine%20reading%20comprehension/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/11/21/deeplearning/five%20papers%20about%20memory%20and%20machine%20reading%20comprehension/" class="post-title-link" itemprop="url">将Memory Network用于RC和QA的五篇论文</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-21 11:00:00" itemprop="dateCreated datePublished" datetime="2017-11-21T11:00:00+00:00">2017-11-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">自然语言处理</span></a>
                </span>
            </span>

          
            <span id="/2017/11/21/deeplearning/five%20papers%20about%20memory%20and%20machine%20reading%20comprehension/" class="post-meta-item leancloud_visitors" data-flag-title="将Memory Network用于RC和QA的五篇论文" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-《Large-scale-Simple-Question-Answering-with-Memory-Networks-》"><a href="#1-《Large-scale-Simple-Question-Answering-with-Memory-Networks-》" class="headerlink" title="1.《Large-scale Simple Question Answering with Memory Networks 》"></a>1.《Large-scale Simple Question Answering with Memory Networks 》</h4><p>Facebook AI在15年6月发在arXiv上的论文：<a href="https://arxiv.org/pdf/1506.02075。主要阅读模型部分。" target="_blank" rel="noopener">https://arxiv.org/pdf/1506.02075。主要阅读模型部分。</a></p>
<blockquote>
<p>simple QA，即一类QA问题，这类问题能够转化为涉及一个entity和一个relation的查询，不涉及复杂的推理过程（比如结合多个KB中的fact和原文才能得出答案），只需要找到correct evidence（比如KB中的一个三元组）就可以正确回答。</p>
</blockquote>
<p>文章首先说明了虽然reasoning的研究最近很热，但是simple QA这类问题尚未解决，而且解决了之后应用范围也很广（通过更好的知识图谱支持）。</p>
<p>这篇文章主要工作：</p>
<ul>
<li>构造了包含大量simple-QA样本的数据集（SimpleQuestions）进行实验，研究了<strong>多任务学习</strong>和<strong>迁移学习</strong>在寻找correct evidence过程中的影响。</li>
<li>同时基于<strong>memory networks</strong>框架实现了一个QA模型，并获得了不错的效果。</li>
</ul>
<p>因为该框架下的模型能够具备复杂推理的能力，从而可以继续深挖更难的QA任务。</p>
<blockquote>
<p>FreeBase和Reverb，两个知识图谱，包含很多<script type="math/tex">(s,r,o)</script>格式的三元组（facts）。</p>
</blockquote>
<p>模型概述：</p>
<ul>
<li>预处理KB：进行了三个预处理步骤。（对于两个知识图谱的fact进行了相似的处理）<ul>
<li>1.group。为了回答有很多答案的问题，把具有相同头实体和关系的facts聚合为一个新的fact。</li>
<li>2.remove intermediate node。将复杂关系化简为一个三元组（fact），使更多QA问题变为Simple QA问题。</li>
<li>3.vectorize。把预处理之后形如<script type="math/tex">(s,r,(o_1,o_2,...,o_k))</script>的三元组向量化为一个高维向量，维度是所有实体数量和关系数量之和，并给予一个初始值（类似n-hot）。</li>
<li>4.vectorize questions。把所有作为输入的问题向量化。维度是词表的长度加上代表KB中实体的别名的n-grams的长度之和，用n-hot的形式表示问题向量。</li>
</ul>
</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/11/21/deeplearning/five%20papers%20about%20memory%20and%20machine%20reading%20comprehension/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/11/17/deeplearning/Tutorial%20on%20Variational%20AutoEncoders/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/11/17/deeplearning/Tutorial%20on%20Variational%20AutoEncoders/" class="post-title-link" itemprop="url">Tutorial on Variational AutoEncoders</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-11-17 11:00:00" itemprop="dateCreated datePublished" datetime="2017-11-17T11:00:00+00:00">2017-11-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">深度学习</span></a>
                </span>
            </span>

          
            <span id="/2017/11/17/deeplearning/Tutorial%20on%20Variational%20AutoEncoders/" class="post-meta-item leancloud_visitors" data-flag-title="Tutorial on Variational AutoEncoders" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文是<a href="https://arxiv.org/abs/1606.05908" target="_blank" rel="noopener">《Tutorial on Variational AutoEncoders》</a>一文部分翻译的内容。</p>
<h4 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h4><p>generative model，学习高维数据的概率分布<script type="math/tex">P(X)</script>。学习到不同维度之间的相互依赖关系，比如手写数字的生成模型如果生成了8的左边一半像素，那么剩下的像素也就能够随之确定。</p>
<p>latent variable，给予生成模型一些信息用来生成数据。比如一个生成手写数字的生成模型，隐变量z就可以是从[0,…,9]中随机采样的整型，确定了隐变量模型才能生成像素点。</p>
<p>但是隐变量又不可能那么简单，因为对于一个能够表达出数据集特性的生成模型，对于每个数据点，生成模型都要能够产生出一个隐变量来生成一个<strong>非常</strong>相似的东西。对手写数字数据集来说，同样的一个8，可能大一点或者小一点，往左歪一点或者往右歪一点，字迹是粗一点还是细一点。所以，生成模型中隐变量需要表达更多的信息，需要一个高维度的向量来表示隐变量<script type="math/tex">z\in R^Z</script>，隐变量要能够自动的学习到这些信息的表示，而且这些影响手写数字生成的信息之间的相互影响和依赖，即隐变量的latent structure，也应该自动的学习。</p>
<h4 id="2-目标函数"><a href="#2-目标函数" class="headerlink" title="2.目标函数"></a>2.目标函数</h4><p>VAE的过程是：从概率密度函数P(z)中采样隐变量z之后，从确定性函数<script type="math/tex">f(z;\theta)</script>得到的值，这个值要大概率和数据集中的数据很相似。</p>
<p>所以我们的目标是对数据集中的所有数据x，最大化：</p>
<script type="math/tex; mode=display">
P(X) = \int P(X|z;\theta)P(z)dz</script><p>其中的条件概率<script type="math/tex">P(X|z;\theta)</script>等于<script type="math/tex">N(X|f(z;\theta), \sigma I)</script>，也就是在标准VAE中，如果输出是实数向量，通常输出的分布是均值为<script type="math/tex">f(z;\theta)</script>方差为<script type="math/tex">\sigma I</script>的高斯分布。</p>
<p>VAE要最大化P(x)，就要解决两个问题：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/11/17/deeplearning/Tutorial%20on%20Variational%20AutoEncoders/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/09/11/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-8%EF%BC%9AIntegrating%20Learning%20and%20Planning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/11/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-8%EF%BC%9AIntegrating%20Learning%20and%20Planning/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-8：Integrating Learning and Planning</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-11 21:00:00" itemprop="dateCreated datePublished" datetime="2017-09-11T21:00:00+00:00">2017-09-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/09/11/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-8%EF%BC%9AIntegrating%20Learning%20and%20Planning/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-8：Integrating Learning and Planning" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>924</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、Model-based-RL"><a href="#一、Model-based-RL" class="headerlink" title="一、Model-based RL"></a>一、Model-based RL</h4><blockquote>
<p>Model-Free RL，从经验中<strong>学习</strong>价值函数（以及/或者策略）。</p>
</blockquote>
<p>Model-based RL，从经验中直接学习环境的MDP模型。（状态转移概率P以及奖励矩阵R）从模型出发，<strong>规划</strong>价值函数（和/或策略）。能够更加有效的学习，减少模型的不确定性，但是缺点是会带来两个（学习模型，进行规划）过程的误差。</p>
<p>这里有一个重要的假设，就是R和P是互相独立的，也就是某一时刻的状态和行为<script type="math/tex">(s,a)</script>获得的下一时刻收益<script type="math/tex">r\sim R</script>和下一时刻状态<script type="math/tex">s\sim P</script>无关。</p>
<ul>
<li>那么第一步，经验中学习模型就是两个监督学习问题：</li>
</ul>
<p>回归问题： <script type="math/tex">s,a \rightarrow r</script></p>
<p>分类问题： <script type="math/tex">s, a \rightarrow s'</script></p>
<p>至于用什么来表示模型的P和R，高斯过程模型、线性高斯模型、神经网络模型都是可以的。</p>
<ul>
<li>第二步，就是利用学习到的模型进行规划。</li>
</ul>
<p>我们有价值迭代，策略迭代，树搜索等方法。此外，还可以直接对已知模型进行抽样，对抽样出的experience利用前几节的model-free方法如Q-learning、Sarsa、Monte-Carlo-Control等进行规划。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/09/11/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-8%EF%BC%9AIntegrating%20Learning%20and%20Planning/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/09/06/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-7%EF%BC%9APolicy%20Gradient/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/06/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-7%EF%BC%9APolicy%20Gradient/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-7：Policy Gradient</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-06 21:00:00" itemprop="dateCreated datePublished" datetime="2017-09-06T21:00:00+00:00">2017-09-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/09/06/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-7%EF%BC%9APolicy%20Gradient/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-7：Policy Gradient" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h4><p>之前的控制方法都是Value-based，而在确定价值函数之后，其实我们是在价值函数的基础上确定了某种策略（贪婪，<script type="math/tex">\epsilon</script>-贪婪）找到action。那么我们为什么不直接通过策略函数控制action呢？</p>
<p>这样做的好处：</p>
<ul>
<li>连续的动作空间（或者高维空间）中更加高效；</li>
<li>可以实现随机化的策略；</li>
<li>某种情况下，价值函数可能比较难以计算，而策略函数较容易。</li>
</ul>
<h4 id="二、Finite-Difference-Policy-Gradient"><a href="#二、Finite-Difference-Policy-Gradient" class="headerlink" title="二、Finite Difference Policy Gradient"></a>二、Finite Difference Policy Gradient</h4><p>首先，对某种参数化策略<script type="math/tex">\pi_\theta</script>，我们需要确定一个目标函数<script type="math/tex">J(\theta)</script>，这里给出了三种：</p>
<ul>
<li>start value</li>
<li>average value</li>
<li>average reward per time-step</li>
</ul>
<p>由于要最大化目标函数，因此使用梯度上升的方法优化参数<script type="math/tex">\theta</script>。</p>
<p>那么要怎么计算策略梯度呢，使用了一种叫做finite difference的方法，也就是在每个维度k上增加一个很小的值，然后求出一个接近偏导数的值：</p>
<script type="math/tex; mode=display">
\frac{\partial J(\theta)}{\partial\theta}\approx \frac{J(\theta +\epsilon u_k) - J(\theta)}{\epsilon}</script><blockquote>
<p>likelihood ratio，如下的公式：<script type="math/tex">\partial_\theta\pi(s,a)=\pi(s,a)\times \partial_\theta log\pi(s,a)</script></p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/09/06/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-7%EF%BC%9APolicy%20Gradient/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/09/04/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-6%EF%BC%9AValue%20Function%20Appro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/04/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-6%EF%BC%9AValue%20Function%20Appro/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-6：Value Function Approximation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-04 21:00:00" itemprop="dateCreated datePublished" datetime="2017-09-04T21:00:00+00:00">2017-09-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/09/04/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-6%EF%BC%9AValue%20Function%20Appro/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-6：Value Function Approximation" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>881</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h4><p>找到一种适应真实情况（很大的状态空间）的RL方法，之前的价值函数表示是通过一个S×A的表（Table）来表示Q(s,a)。状态空间很大时，这种表示内存占用过大，而且单独学习每个state的价值函数太慢了。而且在遇到没有见过的状态时，表现会很差（缺少泛化能力）。</p>
<h4 id="二、价值函数逼近-Incremental-Online"><a href="#二、价值函数逼近-Incremental-Online" class="headerlink" title="二、价值函数逼近-Incremental Online"></a>二、价值函数逼近-Incremental Online</h4><p>使用参数化的价值函数V’(s,w)来逼近V(s)，或者Q’(s,a,w)逼近Q(s,a)。常用的方法有：特征线性组合，神经网络等。那么我们就需要不断的优化这个逼近函数。</p>
<blockquote>
<p>训练逼近函数的过程中，还要注意数据non-stationary和non-iid的性质。</p>
</blockquote>
<ul>
<li>梯度下降，以<strong>真实价值函数</strong><script type="math/tex">v_\pi</script>和估计的价值函数的MSE作为objective，用GD进行训练。（这里用V函数举例，对Q函数同理）</li>
</ul>
<script type="math/tex; mode=display">
J(W) = E_\pi[(v_\pi(s)-v'(s,w))^2]</script><p>但是，在RL中，真实价值函数是不知道的，因此在实际使用中，我们在不同的方法中使用不同的target：</p>
<p>MC中，target是<script type="math/tex">G_t</script>；而TD(0)中，target是<script type="math/tex">R_t+\gamma V'(S_{t+1},w)</script>；TD(λ)中，target是<script type="math/tex">G_t^\lambda</script>。</p>
<p>所以，我们采用逼近式的策略评估过程时，相当于采用MC或者TD的target，并用GD的训练方式得到一个与真实价值函数相近的函数。</p>
<h4 id="三、价值函数逼近-batch-method"><a href="#三、价值函数逼近-batch-method" class="headerlink" title="三、价值函数逼近-batch method"></a>三、价值函数逼近-batch method</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/09/04/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-6%EF%BC%9AValue%20Function%20Appro/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/09/01/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-5%EF%BC%9AModel-Free%20Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/09/01/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-5%EF%BC%9AModel-Free%20Control/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-5：Model-Free Control</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-09-01 21:00:00" itemprop="dateCreated datePublished" datetime="2017-09-01T21:00:00+00:00">2017-09-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/09/01/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-5%EF%BC%9AModel-Free%20Control/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-5：Model-Free Control" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h4><p>这一讲的内容是大部分情况下真实使用的算法，也就是在对环境一无所知的情况下，去学习出一个好的策略。首先介绍一些概念：</p>
<blockquote>
<p>Model-Free Control，在环境未知的前提下，如何学习策略（价值）以获得最大的奖励。</p>
<p>On-Policy和Off-Policy，两种控制的类型，前一种是策略已知，后一种是策略未知。后者允许你使用其他人的experience sequence来学习，而前者只能在知道自己策略的前提下学习。如果计算target的时候使用的是get data的时候的policy，那么就是on-policy的方法，否则是off-policy。</p>
<p><script type="math/tex">\epsilon</script>-贪婪，每一次进行动作的时候，以<script type="math/tex">\epsilon</script>的概率随机执行一个动作，以<script type="math/tex">1-\epsilon</script>的概率执行q值最高的动作。随着训练进行<script type="math/tex">\epsilon</script>逐渐减小。这样能够尽可能多的探索各种策略，同时达到训练的目的。同时可以很容易证明<script type="math/tex">q_{\pi'}(s)\geq q_\pi(s)</script>。</p>
</blockquote>
<h4 id="二、Monte-Carlo-Control"><a href="#二、Monte-Carlo-Control" class="headerlink" title="二、Monte-Carlo Control"></a>二、Monte-Carlo Control</h4><p>对于每个Episode，控制过程分成两个步骤：</p>
<ul>
<li>Monte-Carlo的策略评估过程，这个过程结束后<script type="math/tex">Q\approx q(\pi)</script>.</li>
<li><script type="math/tex">\epsilon</script>-贪婪的策略优化过程。</li>
</ul>
<h4 id="三、Sarsa"><a href="#三、Sarsa" class="headerlink" title="三、Sarsa"></a>三、Sarsa</h4><blockquote>
<p>TD -Control，用TD代替MC进行策略评估。那么每一步都会更新一次价值函数的评估，而不是每个Episode。</p>
</blockquote>
<p>Sarsa，在每个time-step，用Sarsa的方式进行策略评估，并用<script type="math/tex">\epsilon</script>-贪婪的方式进行策略优化。</p>
<p>我们来回顾一下TD(0)的更新公式：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/09/01/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-5%EF%BC%9AModel-Free%20Control/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/31/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-4%EF%BC%9AModel-Free%20Prediction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/31/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-4%EF%BC%9AModel-Free%20Prediction/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-4：Model-Free Prediction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-31 21:00:00" itemprop="dateCreated datePublished" datetime="2017-08-31T21:00:00+00:00">2017-08-31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/08/31/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-4%EF%BC%9AModel-Free%20Prediction/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-4：Model-Free Prediction" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h4><p>无论是价值迭代还是策略迭代，都是在已经知道MDP模型（也就是动态转移矩阵P和奖励R）的前提下用DP的方式进行控制。那么如果对模型的这些属性并不了解，要如何进行预测和控制呢？</p>
<p>本节主要讲几种方法来进行无模型前提下的策略评估（model-free policy evaluation）。</p>
<h4 id="二、Monte-Carlo-RL方法"><a href="#二、Monte-Carlo-RL方法" class="headerlink" title="二、Monte-Carlo RL方法"></a>二、Monte-Carlo RL方法</h4><blockquote>
<p>Episodic MDP: 所有的行为序列都在有限步终止。</p>
</blockquote>
<p>MC方法从已有的<strong>完整经验片段（complete episode of experience）</strong>或者说History中采样，这些片段都是采用策略π的，那么MC方法使用经验平均return来代替期望return，用这种方式来估计策略π下的状态价值函数<script type="math/tex">v_\pi</script>。</p>
<ul>
<li>First-Visit MC Policy Evaluation，仅仅计算每个片段第一次到达某个状态时return的平均值。</li>
<li>Every-Visit MC Policy Evaluation，计算每个片段每次到达某个状态时return的均值。</li>
</ul>
<blockquote>
<p>一个递增式的均值计算公式，<script type="math/tex">\mu_k=\mu_{k-1}+\frac{1}{k}(x_k-\mu_{k-1})</script>。</p>
</blockquote>
<p>所以，MC-Policy-Evaluation的更新公式可以表示为（这个公式中的α是<script type="math/tex">\frac{1}{k}</script>的一种变形，可以看做是一种衰减系数），这种公式下的方法叫做Incremental-MC：</p>
<script type="math/tex; mode=display">
V(S_t) \leftarrow V(S_t) + \alpha (G_t-V(S_t))</script><h4 id="三、Temporal-Difference-Learning"><a href="#三、Temporal-Difference-Learning" class="headerlink" title="三、Temporal-Difference Learning"></a>三、Temporal-Difference Learning</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/31/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-4%EF%BC%9AModel-Free%20Prediction/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/31/deeplearning/DRL-Dueling-%E3%80%8ADueling%20Network%20Architectures%20for%20Deep%20Reinforcement%20Learning%E3%80%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/31/deeplearning/DRL-Dueling-%E3%80%8ADueling%20Network%20Architectures%20for%20Deep%20Reinforcement%20Learning%E3%80%8B/" class="post-title-link" itemprop="url">DRL-Dueling-《Dueling Network Architectures for Deep Reinforcement Learning》</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-31 12:00:00" itemprop="dateCreated datePublished" datetime="2017-08-31T12:00:00+00:00">2017-08-31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/08/31/deeplearning/DRL-Dueling-%E3%80%8ADueling%20Network%20Architectures%20for%20Deep%20Reinforcement%20Learning%E3%80%8B/" class="post-meta-item leancloud_visitors" data-flag-title="DRL-Dueling-《Dueling Network Architectures for Deep Reinforcement Learning》" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>849</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1、文章来源"><a href="#1、文章来源" class="headerlink" title="1、文章来源"></a>1、文章来源</h4><p>Deepmind在2016年4月发表在arXiv上的文章。</p>
<h4 id="2、要解决的问题及已有方法"><a href="#2、要解决的问题及已有方法" class="headerlink" title="2、要解决的问题及已有方法"></a>2、要解决的问题及已有方法</h4><p>在DQN提出后，很多这方面的工作，但是这些工作要不就把已有的CNN、RNN、AutoEncoder等各种结构应用于各种RL方法中，要不就是针对RL方法而不是神经网络的部分进行改进。本文提出了一种Dueling的网络结构来进行Policy Evaluation，这种网络结构更适合使用在RL模型上，在Atari 2600上取得了SOTA的成绩。</p>
<h4 id="3、提出的解决方法"><a href="#3、提出的解决方法" class="headerlink" title="3、提出的解决方法"></a>3、提出的解决方法</h4><p>在看这篇论文之前，有几个概念需要了解：</p>
<blockquote>
<p>Bellman residual，是TD error的期望形式，即<script type="math/tex">E[\delta_t]</script>。可以利用Bellman residual的均方值e进行各种不同形式的梯度下降来学习Q函数。</p>
<p>价值和优势，1993年Baird提出将动作价值函数Q分解为状态价值V和优势（Advantage）A，其中V只与状态相关，而A与状态和动作相关。</p>
<p>策略梯度Policy Gradient，Policy-Based方法中，将策略π参数化为<script type="math/tex">\pi_\theta</script>，并找到一个关于<script type="math/tex">\theta</script>的目标函数<script type="math/tex">J(\theta)</script>，而后利用梯度下降法来优化Policy的参数，如下图。</p>
</blockquote>
<p><img src="/images/Ft5aPA-LyTN4JFPu7y7U4PCcHZLs.jpg" alt></p>
<p>dueling结构就是将DQN中的Q(s,a)分解为两个部分V(s)和A(s,a)，用来区分出同等状态下两个动作的好坏，但是这种区分只体现在Q网络的中间层：</p>
<p>原始DQN的Q网络，两层卷积层+两层全连接，最后输出每个动作的Q值。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/31/deeplearning/DRL-Dueling-%E3%80%8ADueling%20Network%20Architectures%20for%20Deep%20Reinforcement%20Learning%E3%80%8B/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/30/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-3%EF%BC%9ADP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/30/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-3%EF%BC%9ADP/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-3：DP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-30 21:00:00" itemprop="dateCreated datePublished" datetime="2017-08-30T21:00:00+00:00">2017-08-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/08/30/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-3%EF%BC%9ADP/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-3：DP" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>640</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、一些概念"><a href="#一、一些概念" class="headerlink" title="一、一些概念"></a>一、一些概念</h4><p>MDP的两个规划问题：</p>
<ul>
<li>预测，给定MDP和策略π，求出价值函数<script type="math/tex">v_\pi</script></li>
<li>控制，给定MDP，求出最佳价值函数<script type="math/tex">v_*</script>和最佳策略<script type="math/tex">\pi_*</script></li>
</ul>
<p>Policy Evaluation策略评估：</p>
<p>给定一个策略，从<script type="math/tex">v_0</script>,<script type="math/tex">v_1</script>一直求到<script type="math/tex">v_\pi</script>,第k步求出的状态价值函数，通过Bellman期望方程可以求出k+1步的状态价值函数。这样一直迭代下去，最终状态价值函数会收敛，完成对策略π的评估。</p>
<p>Policy Iteration策略迭代：</p>
<ul>
<li>1.评估策略，使用策略评估的方式更新价值函数；</li>
<li>2.改进策略，根据上一步的价值函数，用贪心原则更新策略；</li>
<li>3.迭代上两步，直到找到最优策略π<em>，也就找到了最优价值函数v</em>.</li>
</ul>
<p>价值迭代：</p>
<ul>
<li>按照bellman最优方程，每个循环计算（更新）价值函数；</li>
<li>没有显式的策略，贪心的计算方式在最优方程中，更为直接。</li>
</ul>
<script type="math/tex; mode=display">
v_{k+1}(s)=max_{a\in A} [R_s^a + \gamma\sum_{s'\in S}P_{ss'}^av_k(s')]</script><p>值迭代的一些扩展，比如in-place（不存储旧的状态价值函数，状态的价值函数更新后立刻可以被用于其他状态价值函数的更新），使用Bellman误差（新价值与旧价值的差值）决定状态更新的优先级。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/30/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-3%EF%BC%9ADP/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/29/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-2%EF%BC%9AMDP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/29/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-2%EF%BC%9AMDP/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-2：MDP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-29 21:00:00" itemprop="dateCreated datePublished" datetime="2017-08-29T21:00:00+00:00">2017-08-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/08/29/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-2%EF%BC%9AMDP/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-2：MDP" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、一些概念"><a href="#一、一些概念" class="headerlink" title="一、一些概念"></a>一、一些概念</h4><blockquote>
<p> 马尔科夫性质：当前时刻状态仅仅与前一个时刻相关。</p>
</blockquote>
<p>状态转移矩阵，表明了任意状态a到状态b的条件概率。</p>
<blockquote>
<p>马尔科夫过程（马尔科夫链）：一个具有马尔科夫性质的无记忆的随机过程，包含n个状态。</p>
</blockquote>
<p>马尔科夫激励过程(S,P,R,γ)是一个带有value的马尔科夫链。</p>
<p>用<script type="math/tex">G_t</script>来表示t时刻会得到的总的return。出于数学计算、防止NaN无穷大的return等原因，引入折扣因子<script type="math/tex">\gamma \in [0,1]</script>来对下一时刻的奖励和更远的奖励之间进行取舍。（若所有序列都会在有限步终结，而且策略上合适，γ也可以取1。）</p>
<script type="math/tex; mode=display">
G_t=R_{t+1} + \gamma R_{t+2}+...=\sum_{k=0}^\infty \gamma^k R_{t+k+1}</script><p>价值函数v(s)，在马尔科夫激励过程（MRP）中表征指定状态下，获得的return的期望。是由所有包含该状态的样本Sample序列计算出来的。其中<script type="math/tex">R_s</script>是立即奖励，可以认为是离开状态s时获得的奖励。</p>
<script type="math/tex; mode=display">
v(s)=E[G_t|S_t=s]=E[R_{t+1} + \gamma(v(s_{t+1})|S_t=s)]=R_s+\gamma\sum_{s'\in S} P_{ss'}v(s')</script><p>上面的公式可以向量化的表示为：</p>
<script type="math/tex; mode=display">
V=R+\gamma PV</script><p>而这个公式是有解析解的，MRP每个状态的价值可以直接被解出来。</p>
<h4 id="二、MDP"><a href="#二、MDP" class="headerlink" title="二、MDP"></a>二、MDP</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/29/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-2%EF%BC%9AMDP/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/28/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-1%EF%BC%9ARL-introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/28/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-1%EF%BC%9ARL-introduction/" class="post-title-link" itemprop="url">【David Silver强化学习公开课】-1：RL-introduction</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-28 21:00:00" itemprop="dateCreated datePublished" datetime="2017-08-28T21:00:00+00:00">2017-08-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">强化学习</span></a>
                </span>
            </span>

          
            <span id="/2017/08/28/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-1%EF%BC%9ARL-introduction/" class="post-meta-item leancloud_visitors" data-flag-title="【David Silver强化学习公开课】-1：RL-introduction" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>David Silver强化学习公开课第一课的总结笔记。这个公开课的视频本来是在<a href="youtube.com">Youtube</a>上的，不过有筒靴已经搬运到b站了，点这里<a href="http://www.bilibili.com/video/av8912293/?from=search&amp;seid=16169139515703240533" target="_blank" rel="noopener">公开课b站链接</a>。</p>
<h4 id="一、一些概念"><a href="#一、一些概念" class="headerlink" title="一、一些概念"></a>一、一些概念</h4><ul>
<li>agent：一个智能代理，能够依据policy进行一些action，并根据累积的反馈（reward）修改策略，包含以下三个部分；<ul>
<li>Policy：策略，行为函数，从状态到行动的映射；</li>
<li>Value Function：价值函数，通过预测将来的奖励，衡量action或者state的好坏；</li>
<li>Model：agent对于环境的表示，用来表示环境的反应，包含两个部分：<ul>
<li>P预测下一个状态：$P^a_{SS’}=P[S’=s’|S=s,A=a]$；</li>
<li>R预测下一个奖励：$R_S^a=P[R|S=s,A=a]$</li>
</ul>
</li>
</ul>
</li>
<li>environment：代理所处的环境；</li>
<li>goal：学习的目标（通常的假设是其可以用最大化的累积奖励表示），选择一系列的操作使未来的奖励最高；</li>
</ul>
<ul>
<li>reward：$R_t$代表环境的反馈标量，表示第$t$步时agent获得的奖励；</li>
</ul>
<blockquote>
<p>奖励假设：所有的目标都可以通过最大化累计奖励的期望的方式逼近。</p>
</blockquote>
<ul>
<li>observation：$O_t$代表agent在$t$时刻观察到的值，也可以认为是environment在$t$时刻输出的值；</li>
<li>action：$A_t$代表agent在$t$时刻进行的动作；</li>
<li>History：代表O、A、R的序列，例如$H_t={A_1,O_1,R_1,…,A_t,O_t,R_t}$；</li>
<li>state：代表当前时刻的状态，由history决定，$S_t=f(H_t)$；</li>
<li>environment state：$S_t^e$，环境的状态，决定了$O_t$，通常对于agent不可见；</li>
<li>agent state：$S_t^a$，代表agent的当前状态，决定了$A_t$。</li>
</ul>
<p>马尔科夫状态（信息状态）：若当前状态包含了所有历史信息，即下一状态仅仅和当前状态相关，和之前的状态无关，这样的state就是马尔科夫状态。这里历史信息$H_t$和环境状态$S_t^e$是马尔科夫状态。</p>
<script type="math/tex; mode=display">P(S_{t+1}|S_t) = P(S_{t+1}|S_t,S_{t-1},...,S_1)</script><ul>
<li>Full Observability：就是$O_t=S_t^e=s_t^a$，此时是一个马尔科夫决策过程（MDP）</li>
<li>Partial Observability：$S_t^e\neq s_t^a$，此时是一个部分可见马尔科夫决策过程(POMDP)</li>
</ul>
<p><img src="http://jycloud.9uads.com/web/GetObject.aspx?filekey=25a829dd0aa3a1491125e64b2d31bc18" alt="1"></p>
<p>Agent、Environment的交互过程：根据History，agent在t时刻选择action，而environment根据action输出observation和reward。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/28/deeplearning/DRL/%E3%80%8ADavid%20Silver%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%E5%85%AC%E5%BC%80%E8%AF%BE%E3%80%8B-1%EF%BC%9ARL-introduction/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/17/deeplearning/NLP-%E3%80%8ARecent%20Trends%20in%20Deep%20Learning%20Based%20Natural%20Language%20Processing%E3%80%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/17/deeplearning/NLP-%E3%80%8ARecent%20Trends%20in%20Deep%20Learning%20Based%20Natural%20Language%20Processing%E3%80%8B/" class="post-title-link" itemprop="url">天气太热-略读一篇-《Recent Trends in Deep Learning Based Natural Language Processing》</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-17 11:00:00" itemprop="dateCreated datePublished" datetime="2017-08-17T11:00:00+00:00">2017-08-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">自然语言处理</span></a>
                </span>
            </span>

          
            <span id="/2017/08/17/deeplearning/NLP-%E3%80%8ARecent%20Trends%20in%20Deep%20Learning%20Based%20Natural%20Language%20Processing%E3%80%8B/" class="post-meta-item leancloud_visitors" data-flag-title="天气太热-略读一篇-《Recent Trends in Deep Learning Based Natural Language Processing》" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>624</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1、文章来源"><a href="#1、文章来源" class="headerlink" title="1、文章来源"></a>1、文章来源</h4><p>2017年8月发在ArXiv上的一篇综述。对各种深度学习模型和策略在NLP各种任务上的应用和演进进行了介绍。链接：<a href="https://arxiv.org/abs/1708.02709" target="_blank" rel="noopener">https://arxiv.org/abs/1708.02709</a></p>
<h4 id="2、内容"><a href="#2、内容" class="headerlink" title="2、内容"></a>2、内容</h4><p>内容大略是按照模型来划分的。</p>
<ul>
<li>1.分布式的向量化表示</li>
</ul>
<p>计算机只能识别向量化表示的元素。由于语言模型中词汇数量过大，因此需要将词汇编码到更低维度的向量空间中。Word Embedding、Character Embedding等不同层次的元素分布式表示是很多NLP任务近年来效果不断提升的基础。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/17/deeplearning/NLP-%E3%80%8ARecent%20Trends%20in%20Deep%20Learning%20Based%20Natural%20Language%20Processing%E3%80%8B/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://cairohy.github.io/2017/08/09/ml-coding-summarize/ml%20implementations%20for%20common%20methods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="cairo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="new Cairo()">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/08/09/ml-coding-summarize/ml%20implementations%20for%20common%20methods/" class="post-title-link" itemprop="url">ML implementations for common methods</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-08-09 17:00:00" itemprop="dateCreated datePublished" datetime="2017-08-09T17:00:00+00:00">2017-08-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E6%80%BB%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">编程总结</span></a>
                </span>
            </span>

          
            <span id="/2017/08/09/ml-coding-summarize/ml%20implementations%20for%20common%20methods/" class="post-meta-item leancloud_visitors" data-flag-title="ML implementations for common methods" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>682</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="K-Means"><a href="#K-Means" class="headerlink" title="K-Means"></a>K-Means</h3><p>1.选择K个中心点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_centroids</span><span class="params">(X, K)</span>:</span></span><br><span class="line">    N = X.shape[<span class="number">0</span>]</span><br><span class="line">    rand_indices = np.random.permutation(N)[:K]</span><br><span class="line">    centroids = X[rand_indices, :]</span><br><span class="line">    <span class="keyword">return</span> centroids</span><br></pre></td></tr></table></figure>
<p>2.计算数据点离中心的距离，并归类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findClosestCentroids</span><span class="params">(X, centroids)</span>:</span></span><br><span class="line">    N = X.shape[<span class="number">0</span>]</span><br><span class="line">    K = centroids.shape[<span class="number">0</span>] </span><br><span class="line">    dis = np.zeros((m,K))</span><br><span class="line">    idx = np.zeros((m,<span class="number">1</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(K):</span><br><span class="line">            dis[i,j] = np.dot((X[i,:] - centroids[j,:]).reshape(<span class="number">1</span>,<span class="number">-1</span>),(X[i,:] - centroids[j,:]).reshape(<span class="number">-1</span>,<span class="number">1</span>))</span><br><span class="line">   </span><br><span class="line">    _, idx = np.where(dis == np.min(dis, axis=<span class="number">1</span>).reshape(<span class="number">-1</span>,<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> idx[<span class="number">0</span>: dis.shape[<span class="number">0</span>]]</span><br></pre></td></tr></table></figure>
<p>3.重新计算中心点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_centroids</span><span class="params">(X, K, idx)</span>:</span></span><br><span class="line">	d = X.shape[<span class="number">1</span>]</span><br><span class="line">    centroids = np.zeros((K,d))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(K):</span><br><span class="line">        centroids[i, :] = np.mean(X[np.ravel(idx==i), :], axis=<span class="number">0</span>).reshape(<span class="number">1</span>,<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">return</span> centroids</span><br></pre></td></tr></table></figure>
<h3 id="SVM"><a href="#SVM" class="headerlink" title="SVM"></a>SVM</h3><h3 id="采样方法"><a href="#采样方法" class="headerlink" title="采样方法"></a>采样方法</h3><h4 id="拒绝采样"><a href="#拒绝采样" class="headerlink" title="拒绝采样"></a>拒绝采样</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/08/09/ml-coding-summarize/ml%20implementations%20for%20common%20methods/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="cairo"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">cairo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">129</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">116</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/cairoHy" title="GitHub → https://github.com/cairoHy" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/cairoHy" title="Zhihu → https://www.zhihu.com/people/cairoHy" rel="noopener" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i>Zhihu</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://lanzhuzhu.github.io/" title="https://lanzhuzhu.github.io/" rel="noopener" target="_blank">Lanzhuzhu's blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://xiaofengwo.github.io/" title="https://xiaofengwo.github.io/" rel="noopener" target="_blank">蜂巢</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://randool.github.io/" title="https://randool.github.io/" rel="noopener" target="_blank">Randool</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://tobiaslee.top/" title="https://tobiaslee.top/" rel="noopener" target="_blank">TobiasLee</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">cairo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">253k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">3:50</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script data-pjax>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"NtbQQktKGu7UCTh5oschMKqX-gzGzoHsz","app_key":"DsSvqkvPrGML0l9xn8VU4eAI","server_url":null,"security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  
  <script data-pjax>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>



  <script data-pjax>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 5734,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  



    </div>
</body>
</html>
